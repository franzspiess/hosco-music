(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{5481:function(e,t,n){e.exports=n(5661)},5490:function(e,t,n){},5491:function(e,t,n){},5606:function(e,t,n){},5607:function(e,t,n){},5655:function(e,t,n){},5661:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(20),c=n.n(o),l=n(63),i=n(23),s=n(117),u=n(24),m={query:{term:"",attribute:""},result:[],currentSong:{}},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;if(console.log(t),!t.data)return e;switch(t.type){case"FETCH_PENDING":return Object(u.a)({},e,{loading:!0});case"FETCH_SUCCESS":return Object(u.a)({},e,{result:[].concat(Object(s.a)(e.result),Object(s.a)(t.data.results)),loading:!1});case"FETCH_ONE_PENDING":return Object(u.a)({},e,{loading:!0});case"FETCH_ONE_SUCCESS":return Object(u.a)({},e,{currentSong:t.data.results,loading:!1});case"QUERY":return Object(u.a)({},e,{query:Object(u.a)({},e.query,t.data)});default:return e}},h=function(e){return function(t){return function(n){var a=n.api;return a?(console.log(n),t({type:"".concat(n.type,"_PENDING")}),fetch("".concat("https://itunes.apple.com/").concat(a.route),{method:a.method||"GET",mode:"no-cors",headers:Object(u.a)({},{Accept:"application/json","Content-Type":"application/json"},a.headers),body:a.body}).then(function(e){return e.json()}).then(function(t){e.dispatch({type:"".concat(n.type,"_SUCCESS"),data:t})}).catch(function(t){return e.dispatch({type:"".concat(n.type,"_FAILURE"),error:t.message})}),a):t(n)}}},d=(n(5490),n(29)),y=n(30),f=n(34),g=n(31),E=n(35),b=n(5),v=n(187),j=n(43),O=function(e){console.log(e);var t="search?media=music&".concat("term=".concat(S(e.term),"&entity=song"));return e.attribute&&e.attribute.length&&(t=t.concat("&attribute=".concat(e.attribute))),console.log(t),t},S=function(e){return e.split(" ").join("+").toLowerCase()};console.log(O({term:"Mark Anthony",entity:"album"}));n(5491);var k=function(e){function t(){return Object(d.a)(this,t),Object(f.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this.props,t=e.query,n=e.updateQuery,a=e.fetchSearch,o=e.history;return r.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"space-around",alignItems:"center",height:"100%",width:"100%"}},r.a.createElement("img",{src:"https://cdn-images-1.medium.com/max/900/1*h0OlLGRDqILTSGgjxUH_5Q.jpeg"}),r.a.createElement("form",{style:{width:"70%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}},r.a.createElement("h3",null,"SEARCH FOR MUSIC"),r.a.createElement(b.f,{margin:"normal",fullWidth:!0},r.a.createElement(b.j,{htmlFor:"query"},"QUERY"),r.a.createElement(b.i,{id:"query",type:"text",onChange:function(e){return n({term:e.target.value})}})),r.a.createElement(b.f,{margin:"normal",fullWidth:!0},r.a.createElement(b.j,{htmlFor:"email"},"ATTRIBUTE"),r.a.createElement(b.l,{value:t.attribute,inputProps:{name:"attribute",id:"music-attribute"},onChange:function(e){return n({attribute:e.target.value})}},r.a.createElement(b.k,{value:""},r.a.createElement("em",null,"ATTRIBUTE")),r.a.createElement(b.k,{value:"artistTerm"},"ARTIST"),r.a.createElement(b.k,{value:"albumTerm"},"ALBUM"),r.a.createElement(b.k,{value:"songTerm"},"SONG"))),r.a.createElement(b.b,{variant:"contained",color:"primary",size:"large",onClick:function(e){a(t),n({term:"",attribute:""}),o.push("/result")}},"SEARCH")))}}]),t}(a.Component),C=Object(i.b)(function(e){return{query:e.query}},function(e){return{updateQuery:function(t){return e({type:"QUERY",data:t})},fetchSearch:function(t){return e(function(e){return{type:"FETCH",api:{route:O(e)}}}(t))}}})(k),w=(n(5606),function(e){function t(){return Object(d.a)(this,t),Object(f.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this,t=this.props.history,n={display:"flex",justifyContent:"center"},a=this.props.result,o=[];return a&&(o=a.map(function(t,a){return r.a.createElement("div",{className:"song-container",key:t.trackId,onClick:function(){return e.props.history.push("/song/".concat(a))}},r.a.createElement("img",{className:"song-img",src:t.artworkUrl60}),r.a.createElement("div",{className:"song-attr",style:n},t.artistName),r.a.createElement("div",{className:"song-attr",style:n},t.trackName))})),r.a.createElement("div",{style:{marginTop:"12%",display:"flex",flexDirection:"column",justifyContent:"space-around",alignItems:"center",height:"88%",width:"100%",flexWrap:"nowrap",overflowY:"scroll",scrollBarWidth:"none",msOverflowStyle:"none"}},r.a.createElement(b.a,{position:"fixed",color:"gray",styles:{top:0},onClick:t.goBack},r.a.createElement(b.m,null,r.a.createElement(b.n,{variant:"h6",color:"inherit"},"BACK"))),o)}}]),t}(a.Component)),x=Object(i.b)(function(e){return console.log(e),{result:e.result}},null)(w),I=n(64),T=(n(5607),n(5663)),N=n(5664),A=n(5665),U=n(5666),_=n(5667),B=n(5668),D=n(5669),R=n(5670),F=function(e){function t(){var e,n;Object(d.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(f.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).state={play:!1},n.toggleAudio=function(){n.setState({play:!n.state.play})},n.goBack=function(e){e.pause(),n.props.history.goBack(),n.setState({play:!1})},n}return Object(E.a)(t,e),Object(y.a)(t,[{key:"setSong",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this.props,n=t.result,a=t.currentIndex;a&&(a=Number(a));var r=n[a+=e],o=r?new Audio(r.previewUrl):void 0;this.setState({currentSong:r,audio:o,result:n,currentIndex:a})}},{key:"setSongByTrackId",value:function(){var e=this.props.currentIndex;this.props.fetchOne(e)}},{key:"componentDidMount",value:function(){this.props.result.length?this.setSong():this.setSongByTrackId()}},{key:"componentDidUpdate",value:function(){if(!this.state.currentSong){var e=this.props.currentSong.pop(),t=e?new Audio(e.previewUrl):void 0;this.setState({currentSong:e,audio:t})}}},{key:"render",value:function(){var e=this;console.log(this.props,"AAAAAA",this.state);var t=this.props,n=(t.result,t.history,this.state.audio);n&&this.state.play&&n.play(),n&&!this.state.play&&n.pause();var a=this.state.currentSong;return a?r.a.createElement("div",{style:{marginTop:"12%",display:"flex",flexDirection:"column",justifyContent:"space-around",alignItems:"center",height:"100%",width:"100%",flexWrap:"nowrap",overflowY:"hidden"}},this.state.result&&this.state.result.length?r.a.createElement(b.a,{position:"fixed",color:"gray",styles:{top:0}},r.a.createElement(b.m,null,r.a.createElement(b.n,{variant:"h6",color:"inherit",onClick:function(){return e.goBack(n)}},"BACK"))):null,r.a.createElement(b.c,{style:{display:"flex"}},r.a.createElement("div",null,r.a.createElement(b.d,null,r.a.createElement(b.n,{component:"h5",variant:"h5"},a.trackName),r.a.createElement(b.n,{variant:"subtitle1",color:"textSecondary"},a.artistName),r.a.createElement(b.n,{variant:"subtitle1",color:"textSecondary"},a.albumName)),r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},r.a.createElement(b.h,{"aria-label":"Previous"}),r.a.createElement(b.h,{"aria-label":"Play/pause",onClick:this.toggleAudio},this.state.play?r.a.createElement(I.a,null):r.a.createElement(I.b,null)),this.state.result&&this.state.result.length?r.a.createElement(b.h,{"aria-label":"Next"},r.a.createElement(I.d,{onClick:function(){n.pause(),e.setSong(-1)}}),r.a.createElement(I.c,{onClick:function(){n.pause(),e.setSong(1)}})):null)),r.a.createElement(b.e,{style:{height:"100px",width:"100px"},image:a.artworkUrl100,title:a.albumName})),r.a.createElement(b.c,{style:{display:"flex"}},r.a.createElement(T.a,{url:"http://localhost:3000/song/".concat(a.trackId)},r.a.createElement(N.a,{size:32,round:!0})),r.a.createElement(A.a,{url:"http://localhost:3000/song/".concat(a.trackId)},r.a.createElement(U.a,{size:32,round:!0})),r.a.createElement(_.a,{url:"http://localhost:3000/song/".concat(a.trackId)},r.a.createElement(B.a,{size:32,round:!0})),r.a.createElement(D.a,{url:"http://localhost:3000/song/".concat(a.trackId)},r.a.createElement(R.a,{size:32,round:!0})))):null}}]),t}(a.Component),q=Object(i.b)(function(e,t){return{result:e.result,currentIndex:t.match.params.index,currentSong:e.currentSong}},function(e){return{fetchOne:function(t){return e(function(e){return{type:"FETCH_ONE",api:{route:"lookup?id=".concat(e)}}}(t))}}})(F),H=(n(5655),function(e){function t(){return Object(d.a)(this,t),Object(f.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){return r.a.createElement(v.a,{basename:"/music-player"},r.a.createElement(b.g,{container:!0,alignContent:"center",justify:"center",direction:"column",style:{height:"100%",width:"100%"}},r.a.createElement(b.g,{item:!0,xs:12,md:8,lg:6,alignItems:"center",justify:"center",style:{height:"100%",width:"100%"}},r.a.createElement(j.a,{exact:!0,path:"/",component:C}),r.a.createElement(j.a,{path:"/result",component:x}),r.a.createElement(j.a,{path:"/song/:index",component:q}))))}}]),t}(a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var G=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||window.compose,P=Object(l.c)(p,void 0,G(Object(l.a)(h)));c.a.render(r.a.createElement(i.a,{store:P},r.a.createElement(H,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[5481,1,2]]]);
//# sourceMappingURL=main.0c88db22.chunk.js.map